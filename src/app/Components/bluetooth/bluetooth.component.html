<div class="bluetooth-container">
  <div class="card">
    <h2>Sensor de Peso</h2>
    
    <div class="weight-container">
      @if (connectionStatus === 'connected') {
        <div class="weight-value">
          <span class="weight-label">Peso Actual:</span>
          @if (!isLoading) {
            <span class="weight-number">{{ (currentWeight | number:'1.2-3') }} kg</span>
          } @else {
            <span class="loading-text">Cargando...</span>
          }
        </div>
        
        <div class="weight-status" [ngClass]="getWeightStatusClass()">
          {{ weightStatus }}
        </div>
        
        <button (click)="requestWeight()" class="action-button" [disabled]="isLoading">
          {{ isLoading ? 'Actualizando...' : 'Actualizar Peso' }}
        </button>
      } @else if (connectionStatus === 'connecting') {
        <div class="connection-status connecting">
          Conectando al robot CHUAS-BOT...
        </div>
      } @else {
        <div class="connection-status disconnected">
          Bluetooth desconectado
        </div>
      }
    </div>
  </div>
</div>